<header class="p-3 dark" style="background-color: #000814">
  <div class="container">
    <div
      class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"
    >
      <ul class="nav me-lg-4">
        <li style="color: white">Welcome To Recipely : {{ this.teste1 }}</li>
      </ul>

      <ul
        class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0"
      >
        <li>
          <button (click)="all()" class="btn dark nav-link px-2 link-light">Recipes</button>

        <li>
          <a
            href="/admin"
            *ngIf="isAdmin"
            class="nav-link px-2 link-light"
            >Admin</a
          >
        </li>
        <div class="">
          <button
            style="color: white"
            type="button"
            class="btn dark"
            routerLink="/new-recipe"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-pencil-square"
              viewBox="0 0 16 16"
            >
              <path
                d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"
              />
              <path
                fill-rule="evenodd"
                d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"
              />
            </svg>
          </button>
          <br />
        </div>

        <li>
          <a class="nav-link px-2 link-light" style="color: white">{{
            login.emailtosend
          }}</a>
        </li>
      </ul>

      <div>
        <input
        id="testes"
          style="height: 30px; padding-right: 40px"
          type="text"
          class="form-control"
          placeholder="Search..."
          [(ngModel)]="searchInput"
          (input)="filterRecipeNames1()"
        />
      </div>


      <button
        style="color: white"
        class="btn dark"
        (click)="toggleSpeechRecognition()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-mic"
          viewBox="0 0 16 16"
        >
          <path
            d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z"
          />
          <path
            d="M10 8a2 2 0 1 1-4 0V3a2 2 0 1 1 4 0v5zM8 0a3 3 0 0 0-3 3v5a3 3 0 0 0 6 0V3a3 3 0 0 0-3-3z"
          />
        </svg>
      </button>

      <button
        style="margin-right: 10px; color: white"
        class="btn dark"
        data-bs-toggle="offcanvas"
        data-bs-target="#offcanvasWithBothOptions"
        aria-controls="offcanvasWithBothOptions"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-info-circle"
          viewBox="0 0 16 16"
        >
          <path
            d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
          />
          <path
            d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"
          />
        </svg>
      </button>

      <div
        class="offcanvas offcanvas-start"
        data-bs-scroll="true"
        tabindex="-1"
        id="offcanvasWithBothOptions"
        aria-labelledby="offcanvasWithBothOptionsLabel"
      >
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel">
            Filters
          </h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="offcanvas"
            aria-label="Close"
          ></button>
        </div>
        <div class="offcanvas-body">
          <button class="btn dark" (click)="all()">All Recipes</button>
          <br />
          <button class="btn dark" (click)="maincourse()">Main Courses</button>
          <br />
          <button class="btn dark" (click)="Drinks()">Drinks</button>
          <br />
          <button class="btn dark" (click)="dessert()">Desserts</button>
          <br />
          <button class="btn dark" (click)="bestrating()">Best Rating</button>
        </div>
      </div>

      <div class="dropdown text-end">
        <a
          href="#"
          class="d-block link-dark text-decoration-none dropdown-toggle"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          <img
            id="imagepass"
            src="{{ this.img }}"
            alt="mdo"
            width="32"
            height="32"
            class="rounded-circle"
          />
        </a>

        <ul class="dropdown-menu text-small">
          <li>
            <a class="dropdown-item" routerLink="/profile" (click)="refresh()"
              >Profile</a
            >
          </li>
          <li>
            <hr class="dropdown-divider" />
          </li>
          <li><a class="dropdown-item" (click)="logout()">Sign out</a></li>
        </ul>
      </div>
    </div>
  </div>
</header>

<body>
  <br />
  <br />
  <div class="flex-container">
    <div *ngFor="let todo of todos; let i = index">
      <div class="card">
        <div class="info">
          <img
            class="card-img-top"
            src="{{ todo.recipeurl }}"
            width="75"
            height="260"
            alt="Card image cap"
          />

          <div class="card-body">
            <div style="float: left" class="rating">
              <svg (click)="fav(todo)" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bookmark-check" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M10.854 5.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
                <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
              </svg>
            </div>







            <div class="rating" >
              <span class="star" (click)="rate(todo, 5)">&#9733;</span>
              <span class="star" (click)="rate(todo, 4)">&#9733;</span>
              <span class="star" (click)="rate(todo, 3)">&#9733;</span>
              <span class="star" (click)="rate(todo, 2)">&#9733;</span>
              <span class="star" (click)="rate(todo, 1)">&#9733;</span>
            </div>

            <div style="text-align: center">
              <span class="star" style="color: yellow">&#9733;</span>
              {{ todo.avgRating | number : "1.1-1" || "0" }}
            </div>

            <div
              class="modal fade"
              id="exampleModal222"
              tabindex="-1"
              aria-labelledby="exampleModal222Label"
              aria-hidden="true"
            >
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModal222Label">
                      Report System
                    </h1>
                    <button
                      type="button"
                      class="btn-close"
                      data-bs-dismiss="modal"
                      aria-label="Close"
                    ></button>
                  </div>

                  <div class="bodyofcontainer">
                    <div class="modal-body">
                      <textarea
                        name=""
                        id=""
                        [(ngModel)]="Report"
                        placeholder="Why you are Reporting this recipe"
                        cols="55"
                        rows="10"
                      ></textarea>
                    </div>
                  </div>

                  <div class="modal-footer">
                    <button (click)="save(todo)" class="btn btn-dark" data-bs-dismiss="modal">
                      Send
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <h5 style="text-align: center" class="card-title">
              {{ todo.recipename }}
            </h5>

            <button
              type="button"
              class="btn dark"
              data-bs-toggle="modal"
              data-bs-target="#exampleModal222"
              (click)="report(todo); selectedTodo = todo"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-slash-circle"
                viewBox="0 0 16 16"
              >
                <path
                  d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
                />
                <path
                  d="M11.354 4.646a.5.5 0 0 0-.708 0l-6 6a.5.5 0 0 0 .708.708l6-6a.5.5 0 0 0 0-.708z"
                />
              </svg>
            </button>

            <!-- Button trigger modal -->
            <div class="d-grid gap-2">
              <button
                type="button"
                class="btn btn-dark"
                data-bs-toggle="modal"
                data-bs-target="#exampleModal3"
                (click)="showRecipeId(todo, i)"
              >
                + Info
              </button>
            </div>
            <br />
            <!-- Modal -->
            <div
              class="modal fade"
              id="exampleModal3"
              tabindex="-1"
              aria-labelledby="exampleModal3Label"
              aria-hidden="true"
            >
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel3">
                      Info
                    </h1>
                  </div>
                  <div class="modal-body">
                    <div class="row">
                      <div class="col-xs-12">
                        <div class="form-container text-center">
                          <div class="time">
                            <h2>{{ this.name }}</h2>

                            <img
                              id="imagepass"
                              src="{{ this.url }}"
                              alt="mdo"
                              width="400"
                              height="300"
                              *ngIf="!this.video"
                              class="rounded"
                            />

                            <iframe
                              preload="auto"
                              class="card-video-top"
                              height="300"
                              *ngIf="this.video"
                              width="350"
                              [src]="getEmbedUrl(getVideoId(this.video))"
                              allowfullscreen
                            ></iframe>

                            <div>
                              <div>
                                <svg
                                  xmlns="http://www.w3.org/2000/svg"
                                  height="16"
                                  fill="currentColor"
                                  class="bi bi-clock"
                                  viewBox="0 0 16 16"
                                >
                                  <path
                                    d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"
                                  />
                                  <path
                                    d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"
                                  />
                                </svg>
                                {{ this.temp + "min" }}
                              </div>
                              <div>
                                <svg
                                  xmlns="http://www.w3.org/2000/svg"
                                  width="16"
                                  height="16"
                                  fill="currentColor"
                                  class="bi bi-tag"
                                  viewBox="0 0 16 16"
                                >
                                  <path
                                    d="M6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-1 0a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0z"
                                  />
                                  <path
                                    d="M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1zm0 5.586 7 7L13.586 9l-7-7H2v4.586z"
                                  /></svg
                                >{{ this.type }}
                              </div>
                              <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="16"
                                height="16"
                                fill="currentColor"
                                class="bi bi-book"
                                viewBox="0 0 16 16"
                              >
                                <path
                                  d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"
                                />
                              </svg>
                              {{ this.desc }}
                            </div>

                            <br />
                            <p></p>
                            <button class="btn dark" (click)="toggleComments()">
                              Comments :
                              <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="16"
                                height="16"
                                fill="currentColor"
                                class="bi bi-eye-fill"
                                viewBox="0 0 16 16"
                              >
                                <path
                                  d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"
                                />
                                <path
                                  d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"
                                />
                              </svg>
                            </button>
                            <button
                              class="btn dark"
                              (click)="printRecipe(todo)"
                            >
                              <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="16"
                                height="16"
                                fill="currentColor"
                                class="bi bi-printer"
                                viewBox="0 0 16 16"
                              >
                                <path
                                  d="M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"
                                />
                                <path
                                  d="M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"
                                />
                              </svg>
                            </button>
                            <div *ngIf="showComments">
                              <h3>Comments:</h3>

                              <div class="input-group mb-3">
                                <input
                                  type="text"
                                  id="limpa"
                                  name="comment{{ i }}"
                                  class="form-control"
                                  placeholder="Comment Here"
                                  [(ngModel)]="todo.commentText"
                                />
                                <div class="input-group-append">
                                  <button
                                    type="button"
                                    class="btn btn-dark"
                                    (click)="addComment(todo)"
                                  >
                                    <svg
                                      xmlns="http://www.w3.org/2000/svg"
                                      width="16"
                                      height="16"
                                      fill="currentColor"
                                      class="bi bi-plus-circle"
                                      viewBox="0 0 16 16"
                                    >
                                      <path
                                        d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
                                      />
                                      <path
                                        d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"
                                      />
                                    </svg>
                                  </button>
                                </div>
                              </div>

                              <div>
                                <div>
                                  <div *ngFor="let comment of comments">
                                    <img
                                      id="imagepass"
                                      src="{{ comment.commentuserimg }}"
                                      alt="mdo"
                                      width="60"
                                      height="60"
                                      class="rounded-circle"
                                    />
                                    <h3>{{ comment.commentuser }}</h3>
                                    <p>{{ comment.commentText }}</p>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="modal-footer">
                        <button
                          type="button"
                          class="btn btn-secondary"
                          data-bs-dismiss="modal"
                        >
                          Close
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>



</body>
